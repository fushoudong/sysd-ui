# 封装组件库

## 1. 前期准备

### 1.1 项目初始化

使用 `vue-cli3`快速初始化项目

```shell
vue create sysd-ui
```

启动项目

```shell
cd sdtest-ui
npm run serve
```

## 2. 封装常见组件

### 2.1 Button组件

#### 2.1.1 参数支持

| 参数名   | 参数描述                                      | 参数类型 | 默认值  |
| -------- | --------------------------------------------- | -------- | ------- |
| type     | 按钮类型(primary/success/warning/danger/info) | String   | default |
| plain    | 是否是朴素按钮                                | Boolean  | false   |
| round    | 是否是圆角按钮                                | Boolean  | false   |
| circle   | 是否是圆形按钮                                | Boolean  | false   |
| disabled | 是否禁用按钮                                  | Boolean  | false   |
| icon     | 图标类名                                      | string   | ""      |

#### 2.1.2 事件支持

| 事件名 | 事件描述 |
| ------ | -------- |
| click  | 点击事件 |

#### 2.1.3 基本结构

```css
.by-button {
    display: inline-block;
    line-height: 1;
    white-space: nowrap;
    cursor: pointer;
    background: #fff;
    outline: none;
    border: solid 1px #dcdfe6;
    color: #606266;
    text-align: center;
    margin: 0;
    transition: 0.1s;
    font-weight: 500;
    padding: 12px 20px;
    font-size: 14px;
    border-radius: 4px;
    -webkit-appearance: none;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    &:hover, 
    &:focus {
        color: #409eff;
        border-color: #c6e2ff;
        background-color: #ecf5ff;
    }
}
```

#### 2.1.4 type属性

传入的prop：

```js
type: {
    type: String,
    defalut: 'default'
},

```

样式处理：

```shell
:class="['by-button', `by-button-${this.type}`]"
```

样式：

```css
.by-button-primary {
    color: #fff;
    background-color: #409eff;
    border-color: #409eff;
    &:hover,
    &:focus {
        background: #66b1ff;
        border-color: #66b1ff;
        color: #fff;
    }
}
.by-button-success {
    color: #fff;
    background-color: #67c23a;
    border-color: #67c23a;
    &:hover,
    &:focus {
        background: #85ce61;
        border-color: #85ce61;
        color: #fff;
    }
}
.by-button-info {
    color: #fff;
    background-color: #909399;
    border-color: #909399;
    &:hover,
    &:focus {
        background: #a6a9ad;
        border-color: #a6a9ad;
        color: #fff;
    }
}
.by-button-warning {
    color: #fff;
    background-color: #e6a23c;
    border-color: #e6a23c;
    &:hover,
    &:focus {
        background: #ebb563;
        border-color: #ebb563;
        color: #fff;
    }
}
.by-button-danger {
    color: #fff;
    background-color: #f56c6c;
    border-color: #f56c6c;
    &:hover,
    &:focus {
        background: #f78989;
        border-color: #f78989;
        color: #fff;
    }
}

```

#### 2.1.5 plain属性

传入的prop：

```js
plain: {
    type: [Boolean, String],
        defalut: false
},
```

样式处理：

```shell
:class="[{'is-plain': plain}]"
```

样式：

```css
.by-button.is-plain {
    &:hover,
    &:focus {
        background: #fff;
        border-color: #409eff;
        color: #409eff;
    }
}
.by-button-primary.is-plain {
    color: #409eff;
    background: #ecf5ff;
    border-color: #b3d8ff;
    &:hover,
    &:focus {
        background: #409eff;
        border-color: #409eff;
        color: #fff;
    }
}
.by-button-success.is-plain {
    color: #67c23a;
    background: #f0f9eb;
    border-color: #c2e7b0;
    &:hover,
    &:focus {
        background: #67c23a;
        border-color: #67c23a;
        color: #fff;
    }
}
.by-button-info.is-plain {
    color: #909399;
    background: #f4f4f5;
    border-color: #d3d4d6;
    &:hover,
    &:focus {
        background: #909399;
        border-color: #909399;
        color: #fff;
    }
}
.by-button-warning.is-plain {
    color: #e6a23c;
    background: #fdf6ec;
    border-color: #f5dab1;
    &:hover,
    &:focus {
        background: #e6a23c;
        border-color: #e6a23c;
        color: #fff
    }
}
.by-button-danger.is-plain {
    color: #f56c6c;
    background: #fef0f0;
    border-color: #fbc4c4;
    &:hover,
    &:focus {
        background: #f56c6c;
        border-color: #f56c6c;
        color: #fff;
    }
}
```

#### 2.1.6 round属性

传入的prop：

```js
round: {
    type: [Boolean, String],
    defalut: false
},
```

样式处理：

```shell
:class="[{'is-round': round}]"
```

样式：

```css
.is-round {
    border-radius: 20px;
}
```

#### 2.1.7 circle属性

传入的prop：

```js
circle: {
    type: [Boolean, String],
    defalut: false
}
```

样式处理：

```shell
:class="[{'is-circle': circle}]"
```

样式：

```css
.is-circle {
    border-radius: 50%;
}
```

#### 2.1.8 disabled属性

传入的prop：

```js
disabled: {
    type: [Boolean, String],
    defalut: false
}
```

样式处理：

```shell
:class="[{'is-disabled': disabled}]"
```

样式：

```css
.by-button.is-disabled {
    color: #c0c4cc;
    cursor: not-allowed;
    background-image: none;
    background-color: #fff;
    border-color: #ebeef5;
}
.by-button-primary.is-disabled {
    color: #8cc5ff;
    background-color: #ecf5ff;
    border-color: #d9ecff;
}
.by-button-success.is-disabled {
    color: #a4da89;
    background-color: #f0f9eb;
    border-color: #e1f3d8;
}
.by-button-info.is-disabled {
    color: #bcbec2;
    background-color: #f4f4f5;
    border-color: #e9e9eb;
}
.by-button-warning.is-disabled {
    color: #f0c78a;
    background-color: #fdf6ec;
    border-color: #faecd8;
}
.by-button-danger.is-disabled {
    color: #f9a7a7;
    background-color: #fef0f0;
    border-color: #fde2e2;
}
```

#### 2.1.9 click事件支持

实现，通过emit将事件发送到父组件

```vue
<button @click="handleClick"></button>
<script>
    methods: {
        handleClick() {
            // 父组件去实现
            this.$emit('click')
        }
    }
</script>
```

### 2.2 dialog组件

#### 2.2.1 参数支持

| 参数名  | 参数描述                       | 参数类型 | 默认值 |
| ------- | ------------------------------ | -------- | ------ |
| title   | 对话框标题                     | String   | 提示   |
| width   | 宽度                           | String   | 50%    |
| top     | 与顶部的距离                   | String   | 1vh    |
| visible | 是否显示对话框(支持sync修饰符) | Boolean  | false  |

#### 2.2.2 事件支持

| 事件名 | 事件描述         |
| ------ | ---------------- |
| opened | 模态框显示的事件 |
| closed | 模态框关闭的事件 |

#### 2.2.3 插槽说明

| 插槽名称 | 插槽描述           |
| -------- | ------------------ |
| default  | dialog的内容       |
| title    | dialog的标题       |
| footer   | 对话框底部的操作区 |

#### 2.2.4 基本结构

template：

```vue
<div class="by-dialog__wrapper" style="z-index: 20001">
    <div class="by-dialog">
        <div class="by-dialog__header" style="margin-top:15vh;">
            <span class="by-dialog__title">提示</span>
            <button class="by-dialog__headerbtn">
                <i class="iconfont icon-baseline-close-px"></i>
            </button>
        </div>
        <div class="by-dialog__body">
            <span>这是一段信息</span>
        </div>
        <div class="by-dialog__fotter">
            <by-button>取消</by-button>
            <by-button type='primary'>确定</by-button>
        </div>
    </div>
</div>
<div class="v-modal" style="z-index: 2000;"></div>
```

css样式: 

```scss
.by-dialog__wrapper {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    overflow: auto;
    .by-dialog {
        position: relative;
        width: 50%;
        background: #fff;
        border-radius: 2px;
        margin: 0 auto 50px;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 3);
        box-sizing: border-box;
        .by-dialog__header {
            padding: 20px 20px 10px;
            .by-dialog__title {
                line-height: 24px;
                font-size: 18px;
                color: #303133;
            }
            .by-dialog__headerbtn {
                position: absolute;
                outline: none;
                border: none;
                background-color: transparent;
                top: 20px;
                right: 20px;
                cursor: pointer;
                line-height: 20px;
                font-size: 16px;
            }
        }
        .by-dialog__body {
            padding: 30px 20px;
            color: #606266;
            font-size: 14px;
            word-break: break-all;
        }
        .by-dialog__fotter {
            padding: 10px 20px 20px;
            text-align: right;
            box-sizing: border-box;
            * {
                margin-left: 20px;
            }
        }
    }
}
.v-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    opacity: .5;
    background: #000;
}
```

#### 2.2.5 title属性

传入的prop：

```js
itle: {
    type: String,
    default: '提示'
}
```

template:

```vue
<span class="by-dialog__title">{{title}}</span>
```

使用：

```vue
<by-dialog title="对话框"></by-dialog>
```

为了能支持插槽，可以使用以下语法：

```vue
<!-- 声明插槽 -->
<div>
    <slot name="title"></slot>
</div>
<!-- 指定使用 -->
<by-dialog>
	<template v-slot:title>
    	<h3>
            插槽标题
        </h3>
    </template>
</by-dialog>
```

#### 2.2.6 width属性

传入的prop：

```js
width: {
    type: String,
    default: '50%'
}
```

template:

```vue
<div class="by-dialog" :style="{width: width}"></div>
```

使用：

```vue
<by-dialog :width="'60%'"></by-dialog>
```

#### 2.2.7 top属性

传入的prop：

```js
top: {
    type: String,
    default: '15vh'
}
```

template:

```vue
<div class="by-dialog" :style="{top: top}"></div>
```

使用：

```vue
<by-dialog :top="'20vh'"></by-dialog>
```

#### 2.2.8 插槽支持

##### 2.2.8.1 标题插槽

```vue
<div class="by-dialog__header">
    <slot name="title"></slot>
</div>
```

##### 2.2.8.2 内容插槽

```vue
<div class="by-dialog__body">
    <slot></slot>
</div>
```

##### 2.2.8.3 底部插槽

```vue
<div class="by-dialog__fotter" v-if="$slots.footer">
    <!-- 如果没有插入内容时不显示 -->
    <slot name="footer"></slot>
</div>
```

#### 2.2.9 显示与隐藏

**1. 点击关闭按钮关闭**

- 封装的组件需要为按钮添加监听事件，然后使用`$emit`触发执行父组件事件

- 父组件实现关闭事件

  ```vue
  // 子组件
  <button class="by-dialog__headerbtn" @click="close">
      <i class="iconfont icon-baseline-close-px"></i>
  </button>
  <script>
  	export default {
          methods: {
              close() {
                  this.$emit('close', false)
              }
          }
      }
  </script>
  // 父组件
  <by-dialog @click="close" :visible="visible">
  </by-dialog>
  <script>
  	export default {
          methods: {
              close(event) {
                  this.visible = event
              }
          }
      }
  </script>
  ```

**2. 点击对话框外区域关闭**

- 需要在对话框wrapper中调用close事件

- 同时阻止对话框的内部事件捕获`.self`修饰符

  ```vue
  <div class="by-dialog__wrapper" @click.self="close">
  </div>
  <script>
  	export default {
          methods: {
              close() {
                  this.$emit('close', false)
              }
          }
      }
  </script>
  // 父组件
  <by-dialog @click="close" :visible="visible">
  </by-dialog>
  <script>
  	export default {
          methods: {
              close(event) {
                  this.visible = event
              }
          }
      }
  </script>
  ```

**3. 使用.sync修饰**

通过上述步骤可以实现点击模态框与关闭按钮关闭对话框，但是存在一个问题：这种情况下需要在调用时声明一个close事件，调用起来不是很方便。

.sync修饰符实际上是`v-bind:visible`与`v-on:update.visible`的结合，具体原理可以参考[vue中.sync修饰符](https://cn.vuejs.org/v2/guide/components-custom-events.html#sync-%E4%BF%AE%E9%A5%B0%E7%AC%A6)

1. 不使用`.sync`

   ```vue
   <div class="by-dialog__wrapper" style="z-index: 2001" @click.self="handleClose">
   </div>
   <script>
   	methods: {
   		handleClose() {
               this.$emit('update:visible', false)
           }
   	}
   </script>
   // 使用时
   <by-dialog :visible="visible" @update:visible="setVisible">
   </by-dialog>
   <script>
   	methods: {
           setVisible(event) {
               this.visible = event
           }
       }
   </script>
   ```

2. 使用`.sync`

   ```vue
   <by-dialog :visible.sync="visible">
   </by-dialog>
   ```

#### 2.2.10 动画处理

`element-ui`对话框在关闭时有动画，实现时为了接近element的效果，使用vue的动画效果实现，动画参考[vue动画](https://cn.vuejs.org/v2/guide/transitions.html)

1. 设置css样式

   1. 使用class

      - enter、leave-to

      - enter-to、leave

      - enter-active、leave-active

        ```css
        .dialog-fade-enter,
        .dialog-fade-leave-to {
            opacity: 0;
        }
        .dialog-fade-enter-to,
        .dialog-fade-leave {
            opacity: 1;
        }
        .dialog-fade-enter-active,
        .dialog-fade-leave-active {
            transition: opacity .1s;
        }
        ```

      b. 使用动画

      ```css
      .dialog-fade-enter-active {
          animation: fade 0.2s;
      }
      .dialog-fade-leave-active {
          animation: fade 0.2s reverse;
      }
      @keyframes fade {
          0% {
              opacity: 0;
              transform: translateY(-20px);
          }
          100% {
              opacity: 1;
              transform: translateY(0);
          }
      }
      ```

2. 最外层包裹transition

   ```vue
   <transition name="dialog-fade">
   </transition>
   ```

### 2.3 input组件

#### 2.3.1 参数支持

| 参数名称      | 参数描述             | 参数类型 | 默认值 |
| ------------- | -------------------- | -------- | ------ |
| placeholder   | 占位符               | string   | 无     |
| type          | 文本框类型           | string   | text   |
| disabled      | 禁用                 | Boolean  | false  |
| clearable     | 是否显示清空按钮     | Boolean  | false  |
| show-password | 是否显示密码切换按钮 | Boolean  | false  |
| name          | name属性             | string   | 无     |

#### 2.3.2 事件支持

| 事件名称 | 事件描述     |
| -------- | ------------ |
| change   | 内容改变事件 |
| blur     | 失去焦点事件 |
| focus    | 获取焦点事件 |

#### 2.3.3 基本结构

- vue结构

  ```vue
  <div class="by-input">
      <input class="by-input__inner">
  </div>
  ```

- css样式

  ```less
  .by-input {
      position: relative;
      font-size: 14px;
      display: inline-block;
      width: 100%;
      .by-input__inner {
          line-height: 40px;
          padding: 0px;
          border-radius: 4px;
          border: 1px solid #dcdfe6;
          box-sizing: border-box;
          background: #fff;
          color: #606266;
          padding: 0 15px;
          cursor: pointer;
          transition: border-color .2s cubic-bezier(.645,.045,.355,1);
          &:focus {
              outline: none;
              border: 1px solid #409eff;
          }
      }
  }
  ```

#### 2.3.4 props处理placeholder、type、name

1. placeholder

   ```vue
   // 组件
   <div>
       <input :placeholder="placeholder">
   </div>
   <script>
   	props: {
           placeholder: {
               type: String,
               default: ''
           }
       },
   </script>
   // 使用
   <by-input :placeholder="'提示文字'"></by-input>
   ```

2. type

   传递的props

   ```vue
   <script>
   	props: {
           type: {
               type: String,
               default: 'text'
           },
       }
   </script>
   ```

   - input:

     ```vue
     <input v-else :type="type" class="by-input__inner" :placeholder="placeholder" >
     // 使用
     <by-input type="input"></by-input>
     ```

   - textarea

     ```vue
     <textarea v-if="type === 'textarea'" class="by-textarea__inner" :rows="rows"></textarea>
     <by-input type="textarea" :rows="3"></by-input>
     ```

3. name

   ```vue
   // 组件
   <div>
       <input :name="name">
   </div>
   <script>
   	props: {
           name: {
               type: String,
               default: ''
           }
       },
   </script>
   // 使用
   <by-input name="name"></by-input>
   ```

#### 2.3.5 禁用按钮disabled

传递属性props

```js
props: {
    disabled: {
        type: Boolean,
        default: false
    }
}
```

布局文件：

```vue
<textarea v-if="type === 'textarea'" :class="['by-textarea__inner', {'disabled': disabled}]" :rows="rows" :name="name" :disabled="disabled"></textarea>
<input v-else :type="type" :class="['by-input__inner', {'disabled': disabled}]" :placeholder="placeholder" :name="name" :disabled="disabled">
```

样式：

```css
.disabled {
    background-color: #F5F7FA;
    border-color: #E4E7ED;
    color: #C0C4CC;
    cursor: not-allowed;
    &:focus {
        outline: none;
        border: none;
    }
}
```

#### 2.3.6 v-model语法糖

让自定义组件支持`v-model`，它实际上是`:value`与`@input`的结合，因此为了给自定义的`by-input`添加v-model，需要在子组件中编写`:value`与`@input`，并`emit`修改后的value值

1. 定义组件

   - props接收参数value

     ```js
     value: {
         type: String,
             default: ''
     }
     ```

   - 模板定义v-bind与v-on

     ```vue
     <input :value="value" @input="handleValueChange"/>
     ```

   - 处理事件

     ```js
     handleValueChange(event) {
         this.$emit('input', event.target.value)
     }
     ```

2. 使用

   ```vue
   <by-input v-model="value"></by-input>
   ```

#### 2.3.7 clearable属性

- props:

  ```js
  clearable: {
      type: [Boolean, String],
      default: false
  },
  ```

- css

  ```less
  .input-div {
      position: relative;
      span {
          position: relative;
          top: 50%;
          right: 20px;
          color: #c0c4cc;;
          &:hover {
              color: #c0c4cc;
              cursor: pointer;
              transition: color .2s cubic-bezier(.645,.045,.355,1);
          }
      }
  }
  ```

- 布局与方法

  ```vue
   <div v-else class="input-div">
       <input :type="inputType" :class="['by-input__inner', { disabled: disabled }]" :placeholder="placeholder" :name="name" :disabled="disabled" :value="value" @input="handleValueChange" @blur="handleBlur"/>
       <span class="by-icon-circle-close" v-if="value.length > 0 && Boolean(clearable)" @click="clearInput"></span>
  </div>
  <script>
  	clearInput() {
          this.$emit('input', "")
      }
  </script>
  
  ```

#### 2.3.8 show-password属性

- props

  ```js
  showPassword: {
      type: [Boolean, String],
      default: false
  }
  ```

- 布局与方法

  ```vue
  <input :type="inputType" @blur="handleBlur" @focus="handleFocus"/>
  <span class="by-icon-view" v-if="showPassword" @click="changePassword"></span>
  <script>
      data() {
          return {
              inputType: this.type,
              isFocus: false
          }
      }
      computed() {
          showPasswordIcon() {
              return this.value.length > 0 || this.isFocus && this.showPassword
          }
      }
  	methods: {
          changePassword() {
              this.inputType === 'text'?
              this.inputType = 'password':
              this.inputType = 'text'
          },
          handleBlur() {
              this.isFocus = false
          },
          handleFocus() {
              this.isFocus = true
          }
      }
  </script>
  ```

#### 2.3.9 事件支持

#### 2.3.9.1 change事件

```js
this.$emit('change', event.target.value)
```

#### 2.3.9.2 focus事件

```js
this.$emit('focus', event.target.value)
```

#### 2.3.9.3 blur事件

```js
this.$emit('blur', event.target.value)
```

### 2.4  switch组件

#### 2.4.1 参数支持

| 参数名称      | 参数描述         | 参数类型 | 默认值 |
| ------------- | ---------------- | -------- | ------ |
| v-model       | 双向数据绑定     | Boolean  | false  |
| activeColor   | 自定义激活颜色   | String   |        |
| inactiveColor | 自定义不激活颜色 | String   |        |

#### 2.4.2 事件描述

| 事件名称 | 事件描述           |
| -------- | ------------------ |
| change   | change时触发的事件 |

#### 2.4.3 基本结构

```vue
<div class="by-switch" :class="{ 'is-checked': value }" @click="handleClick">
    <input class="by-switch__input" type="checkbox" :name="name" ref="input" />
    <span class="by-switch__core" ref="core" @click="handleChange">
        <span class="by-switch__button"></span>
    </span>
</div>
```

使用

```vue
<by-switch v-model="switchData" active-color="red" inactive-color="green" @change="handleSwitch"></by-switch>
```

#### 2.4.4 v-model双向数据绑定

1. 定义名为value的props

2. 点击时emit change事件

3. 使用 v-model 指令

   ```vue
   <script>
   	props: {
           value: {
               type: Boolean,
               default: false
           },
       }
       methods: {
            handleClick() {
               this.$emit('input', !this.value)
           },
       }
   </script>
   ```

#### 2.4.5 自定义颜色

除了默认样式外，还支持自定义active 与 inactive的颜色

props：

```js
activeColor: {
    type: String,
        default: "",
},
inactiveColor: {
    type: String,
    default: "",
},
```

methods：

```js
async handleClick() {
    this.$emit('input', !this.value)
    await this.$nextTick()
    this.setColor()
},
setColor() {
    let color = this.value? this.activeColor: this.inactiveColor
    this.$refs.core.style.borderColor = color
    this.$refs.core.style.backgroundColor = color
}
```

### 2.5 radio组件

#### 2.5.1 参数支持

| 参数支持 | 参数描述      | 参数类型                | 默认值 |
| -------- | ------------- | ----------------------- | ------ |
| v-model  | 双向数据绑定  | Boolean                 | false  |
| label    | 单选框的value | String、Number、Boolean | ""     |
| name     | name属性      | String                  |        |

#### 2.5.2 事件支持

#### 2.5.3 基本结构

#### 2.5.4 选中的样式

#### 2.5.5 label与插槽的处理



### 2.6 radio-group组件



### 2.7 checkbox组件

#### 2.7.1 参数支持

#### 2.7.2 事件支持

#### 2.7.3 基本结构

#### 2.7.4 选中的样式

#### 2.7.5 label与插槽的处理

### 2.8 checkbox-group组件



### 2.9 form组件



### 2.10 form-item组件



## 3. 封装成UI组件库

### 3.1 目录调整

- 根目录调整创建两个文件夹`packages` 和 `examples`

  ```shell
  packages: 用于存放所有的组件
  examples：用于进行测试，主要介绍组件该如何使用,将src目录改为examples
  ```

- 把`components`中所有的组件放在`packages`中

- 把`fonts`放在`packages`中

### 3.2 vue.config.js配置

新增`vue.config.js`配置，代码如下：

```js
const path = require('path')
module.exports = {
    pages: {
        index: {
            // 修改项目的入口文件
            entry: 'examples/main.js',
            template: 'public/index.html',
            filename: 'index.html'
        }
    },
    // 扩展 webpack 配置，使 packages 加入编译
    chainWebpack: config => {
        config.module
            .rule('js')
            .include.add(path.resolve(__dirname, 'packages')).end()
            .use('babel')
            .loader('babel-loader')
            .tap(options => {
            // 修改选项
            return options
        })
    }
}
```

### 3.2 vue插件机制

- 在packages里面新建index.js文件，并在index.js中导出install方法
- install方法实现组件的注册
- 在执行vue.use时，index文件中的install方法会被执行

**index.js**

````js
import Button from './button'
import Dialog from './dialog'
import Input from './input'
import './fonts/iconfont.css'
const components = [
    Button,
    Dialog,
    Input
]
const install = function(Vue) {
    // 注册所有组件
    components.forEach(component => {
        Vue.component(component.name, component)
    })
}
// 判断是否是直接引入文件script，如果是，就不用调用Vue.use
if(typeof window !== 'undefined' && window.Vue) {
    install(Window.Vue)
}
export default install
````

**main.js**

```js
import SdTestUI from '../packages'
Vue.use(SdTestUI)
```

## 4. 在线发布

### 4.1 发布到github

- 绑定远程仓库

- 提交代码

  ```shell
  git add .
  git commit -m ""
  git push
  ```

### 4.2 发布到npm

参考vue-cli官方官方文档[构建目标](https://cli.vuejs.org/zh/guide/build-targets.html#%E5%BA%94%E7%94%A8)

- 在`package.json`文件中添加打包成库的指令

  ```json
  "lib": "vue-cli-service build --target lib packages/index.js" // 指定打包目标为库，打包对象是packages/index.js
  ```

- 修改`package.json`文件

  ```json
  "private": false,
  "main": "dist/sysd-ui.umd.js",
  "author": {
      "name": "fsd"
  },
  ```

- 配置`.npmignore`

  ```bash
  # 忽略目录
  examples/
  packages/
  public/
  
  # 忽略指定文件
  vue.config.js
  babel.config.js
  *.map
  ```

- 查看npm源，此刻的npm不可以是淘宝镜像

  ```shell
  nrm ls
  * npm -------- https://registry.npmjs.org/
    yarn ------- https://registry.yarnpkg.com/
    cnpm ------- http://r.cnpmjs.org/
    taobao ----- https://registry.npm.taobao.org/
    nj --------- https://registry.nodejitsu.com/
    npmMirror -- https://skimdb.npmjs.com/registry/
    edunpm ----- http://registry.enpmjs.org/
  // 如果是淘宝镜像需要进行切换
  npm config set registry https://registry.npmjs.org/
  ```

- 登录npm(无账号 [注册](https://www.npmjs.com/))

  ```shell
  npm login
  Username: shoudong
  Password: qq密码
  Email: 2407592711@qq.com
  ```

- 发布

  ```shell
  npm publish
  ```


## README.md

### 1. 安装组件库

```shell
npm install  sysd-ui
```

### 2. 使用组件库

- 全局导入

  ```js
  import ItcaseUI from 'sysd-ui'
  import 'sysd-ui/dist/sysd-ui.css'
  Vue.use(ItcaseUI)
  ```

  